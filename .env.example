# Collabry AI Core Engine - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ==============================================================================
# OLLAMA CONFIGURATION
# ==============================================================================
# Ollama API endpoint (default: http://localhost:11434)
OLLAMA_BASE_URL=http://localhost:11434

# Ollama model name (options: llama3.1, mistral, etc.)
OLLAMA_MODEL=llama3.2

# Request timeout in seconds (default: 60)
OLLAMA_TIMEOUT=60

# Maximum retry attempts on connection failures (default: 3)
OLLAMA_MAX_RETRIES=3

# Initial retry delay in seconds, uses exponential backoff (default: 1.0)
OLLAMA_RETRY_DELAY=1.0

# LLM temperature for response randomness (0.0-1.0, default: 0.2)
COLLABRY_TEMPERATURE=0.2

# ==============================================================================
# MONGODB CONFIGURATION (REQUIRED)
# ==============================================================================
# MongoDB connection URI
# Local: mongodb://localhost:27017
# Remote: mongodb://username:password@host:port/?authSource=admin
MONGO_URI=mongodb://localhost:27017

# MongoDB database name (default: collabry)
MONGO_DB=collabry

# MongoDB collection for conversations (default: conversations)
MEMORY_COLLECTION=conversations

# ==============================================================================
# EXTERNAL API KEYS (OPTIONAL)
# ==============================================================================
# Serper API key for enhanced web search (optional, has DuckDuckGo fallback)
# Get your key at: https://serper.dev
SERPER_API_KEY=

# Hugging Face API key for cloud NLP and embeddings (optional)
# Get your key at: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=

# Stable Diffusion API endpoint for image generation (optional)
STABLE_DIFFUSION_API=http://127.0.0.1:7860

# ==============================================================================
# RAG & EMBEDDINGS CONFIGURATION
# ==============================================================================
# Hugging Face embedding model for cloud embeddings (default: sentence-transformers/all-MiniLM-L6-v2)
COLLABRY_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Number of documents to retrieve from FAISS (default: 3)
COLLABRY_RETRIEVAL_TOP_K=3

# FAISS checkpoint interval in seconds, 0 to disable (default: 60)
COLLABRY_FAISS_CHECKPOINT_INTERVAL=60

# ==============================================================================
# MEMORY MANAGEMENT
# ==============================================================================
# Memory cache size for recent queries (default: 128)
COLLABRY_MEMORY_CACHE_SIZE=128

# Memory time-to-live in seconds, default 7 days (default: 604800)
COLLABRY_MEMORY_TTL_SECONDS=604800

# Maximum persisted memory entries (default: 5000)
COLLABRY_MEMORY_MAX_ITEMS=5000

# Memory eviction policy: ttl, size, or hybrid (default: hybrid)
COLLABRY_MEMORY_EVICTION_POLICY=hybrid

# Background memory pruning interval in seconds, 0 to disable (default: 3600)
COLLABRY_MEMORY_PRUNE_INTERVAL_SECONDS=3600

# ==============================================================================
# SECURITY (PRODUCTION ONLY)
# ==============================================================================
# JWT secret key for token validation (CHANGE IN PRODUCTION!)
# Must match the backend JWT_ACCESS_SECRET for authentication to work
JWT_SECRET_KEY=your-super-secret-access-token-key-change-this-in-production

# JWT algorithm (default: HS256)
JWT_ALGORITHM=HS256

# JWT token expiration in seconds (default: 86400 = 24 hours)
JWT_EXPIRATION=86400

# ==============================================================================
# LEGACY CLI SETTINGS (DISABLED FOR BACKEND MODE)
# ==============================================================================
# Wake word detection for CLI mode (default: false)
COLLABRY_WAKE_WORD_ENABLED=false

# ==============================================================================
# DEPRECATED / LEGACY ENVIRONMENT VARIABLES
# ==============================================================================
# These are still supported for backward compatibility but prefer new names above
# OLLAMA_HOST (use OLLAMA_BASE_URL instead)
# COLLABRY_LLM_MODEL (use OLLAMA_MODEL instead)